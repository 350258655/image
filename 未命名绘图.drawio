<mxfile host="app.diagrams.net" modified="2021-10-12T09:35:41.594Z" agent="5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36" etag="0Z3BYWKe8UF21rfr_CKR" version="14.9.8" type="github">
  <diagram id="3jRSdvpOarggcgMNoG4k" name="第 1 页">
    <mxGraphModel dx="2249" dy="792" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="yfNpy2FmDrcI2LS20z6D-1" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-10" y="150" width="150" height="280" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-2" value="recharge_log" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="45" y="180" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-7" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" edge="1" parent="1" source="yfNpy2FmDrcI2LS20z6D-3" target="yfNpy2FmDrcI2LS20z6D-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-3" value="transaction id of zalo" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-240" y="265" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-6" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="2.5" y="260" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-4" value="transaction_id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="40" y="270" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-8" value="我进行了充值。recharge log&amp;nbsp; 记录了充值的事件" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-80" y="100" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-9" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="320" y="150" width="150" height="280" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-10" value="money_flow_log" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="375" y="180" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-11" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="332.5" y="260" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-12" value="transaction_id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="370" y="270" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-13" value="如果充值会得到 2000 元宝。那么 money_flow_log 就记录的元宝增加的事件&lt;br&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="274" y="100" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-14" value="假设 transaction id of zalo 是 &quot;abc123&quot;，那 recharge_log 和 money_flow_log 中的 transaction_id 都是 &quot;abc123&quot;&lt;br&gt;&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="520" y="260" width="380" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-17" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-10" y="585" width="150" height="280" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-18" value="money_flow_log" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="45" y="615" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-33" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="yfNpy2FmDrcI2LS20z6D-19" target="yfNpy2FmDrcI2LS20z6D-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-34" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="1" source="yfNpy2FmDrcI2LS20z6D-19" target="yfNpy2FmDrcI2LS20z6D-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-19" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="2.5" y="695" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-20" value="transaction_id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="40" y="705" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-21" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="320" y="580" width="150" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-22" value="item_log" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="375" y="610" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-23" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="332.5" y="660" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-24" value="transaction_id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="370" y="670" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-26" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="320" y="820" width="150" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-27" value="item_log" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="375" y="850" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-28" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="332.5" y="900" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-29" value="transaction_id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="370" y="910" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-30" value="我用 50 元宝去兑换游戏的道具。由于兑换道具的时候，&lt;br&gt;无法知道 50 个元宝是源自哪一笔订单，所以只能生成一个自定义的&amp;nbsp;&lt;span&gt;transaction_id。&lt;br&gt;&lt;/span&gt;假设自定义生成的&amp;nbsp;&lt;span&gt;transaction_id 是 &quot;bbbb&quot;&lt;/span&gt;&lt;br&gt;&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="-230" y="505" width="470" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-31" value="50 元宝去兑换道具的时候，是有可能兑换产生多种道具的。如下图会兑换出两个道具，这两个道具的 transaction_id 和 自定义的 transaction_id 是一样的都是 &quot;bbbb&quot;&lt;br&gt;&amp;nbsp;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-size: 0px;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E5%A6%82%E6%9E%9C%E5%85%85%E5%80%BC%E4%BC%9A%E5%BE%97%E5%88%B0%202000%20%E5%85%83%E5%AE%9D%E3%80%82%E9%82%A3%E4%B9%88%20money_flow_log%20%E5%B0%B1%E8%AE%B0%E5%BD%95%E7%9A%84%E5%85%83%E5%AE%9D%E5%A2%9E%E5%8A%A0%E7%9A%84%E4%BA%8B%E4%BB%B6%26lt%3Bbr%26gt%3B%22%20style%3D%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22274%22%20y%3D%22100%22%20width%3D%22280%22%20height%3D%2220%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontFamily=Comic Sans MS;" vertex="1" parent="1">
          <mxGeometry x="280" y="520" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="yfNpy2FmDrcI2LS20z6D-32" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" edge="1" parent="1" source="yfNpy2FmDrcI2LS20z6D-6" target="yfNpy2FmDrcI2LS20z6D-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
